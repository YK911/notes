import{v as k}from"./assets/vendor-CcQs6ztn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const y=document.querySelector(".header-form"),c=document.querySelector(".tasks-list"),S=document.querySelector(".theme-toggle-button"),T=document.querySelectorAll('link[rel="stylesheet"][media="(prefers-color-scheme: dark)"]'),L=document.querySelectorAll('link[rel="stylesheet"][media="(prefers-color-scheme: light)"]');function f({taskName:e,taskDescription:t,id:n}){return`<li class="task-list-item" data-id="${n}">
      <button class="task-list-item-btn">Delete</button>
      <h3>${e}</h3>
      <p>${t}</p>
  </li>`}function h(e,t){const n=e.map(f).join("");t.innerHTML=n}function E(e,t){e.preventDefault();const n=e.target,o=Object.fromEntries(new FormData(n));if(Object.values(o).some(a=>a.length===0))return alert("Some input are missing");const r={id:k(),...o};t.push(r),c.insertAdjacentHTML("beforeend",f(r)),n.reset()}function u(e){return JSON.parse(localStorage.getItem(e))}function d(e,t){localStorage.setItem(e,JSON.stringify(t))}const m="tasks",l="color-theme";function b(){const e=u(l),t=p();e!==null&&e!==t&&g(e)}function p(){return matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g(e){let t=e==="light"?"all":"not all",n=e==="dark"?"all":"not all";[...L].forEach(o=>o.media=t),[...T].forEach(o=>o.media=n)}const i={tasks:u(m)??[]};h(i.tasks,c);b();S.addEventListener("click",e=>{let t;t=(u(l)??p())==="dark"?"light":"dark",d(l,t),g(t)});y.addEventListener("submit",e=>{E(e,i.tasks),d(m,i.tasks)});function O(e){const t=e.target;if(t.nodeName!=="BUTTON")return;const n=t.closest(".task-list-item"),{id:o}=n.dataset;i.tasks=i.tasks.filter(s=>s.id!==o),d(m,i.tasks),h(i.tasks,c)}c.addEventListener("click",O);
//# sourceMappingURL=index.js.map
