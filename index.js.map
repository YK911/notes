{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-tasks.js","../src/js/tasks.js","../src/js/local-storage-api.js","../src/js/config.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const tasksForm = document.querySelector(\".header-form\");\nexport const tasksList = document.querySelector(\".tasks-list\");\nexport const toggleBtn = document.querySelector(\".theme-toggle-button\");\nexport const darkStyles = document.querySelectorAll(\n  'link[rel=\"stylesheet\"][media=\"(prefers-color-scheme: dark)\"]'\n);\nexport const lightStyles = document.querySelectorAll(\n  'link[rel=\"stylesheet\"][media=\"(prefers-color-scheme: light)\"]'\n);\n","export function renderTask({ taskName, taskDescription, id }) {\n  return `<li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${taskName}</h3>\n      <p>${taskDescription}</p>\n  </li>`;\n}\n\nexport function initRender(tasks, container) {\n  const markup = tasks.map(renderTask).join(\"\");\n  container.innerHTML = markup;\n}\n","import { v4 as uuidv4 } from \"uuid\";\nimport { renderTask } from \"./render-tasks\";\nimport { tasksList } from \"./refs\";\n\nexport function createTask(event, tasks) {\n  event.preventDefault();\n\n  const form = event.target;\n  const formData = Object.fromEntries(new FormData(form));\n  const hasMissingInput = Object.values(formData).some((el) => el.length === 0);\n\n  if (hasMissingInput) return alert(\"Some input are missing\");\n\n  const task = { id: uuidv4(), ...formData };\n\n  tasks.push(task);\n  tasksList.insertAdjacentHTML(\"beforeend\", renderTask(task));\n  form.reset();\n}\n","export function loadLS(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nexport function saveLS(key, tasks) {\n  localStorage.setItem(key, JSON.stringify(tasks));\n}\n","export const TASKS_LS_KEY = \"tasks\";\nexport const THEME_LS_KEY = \"color-theme\";\n","import { lightStyles, darkStyles } from \"./refs\";\nimport { THEME_LS_KEY } from \"./config\";\nimport { loadLS, saveLS } from \"./local-storage-api\";\n\nexport function setupTheme() {\n  const savedTheme = loadLS(THEME_LS_KEY);\n  const systemTheme = getSystemTheme();\n\n  if (savedTheme === null) {\n    return;\n  }\n\n  if (savedTheme !== systemTheme) setTheme(savedTheme);\n}\n\nexport function getSystemTheme() {\n  const darkTheme = matchMedia(\"(prefers-color-scheme: dark)\").matches;\n\n  return darkTheme ? \"dark\" : \"light\";\n}\n\nexport function setTheme(theme) {\n  let lightMedia = theme === \"light\" ? \"all\" : \"not all\";\n  let darkMedia = theme === \"dark\" ? \"all\" : \"not all\";\n\n  [...lightStyles].forEach((link) => (link.media = lightMedia));\n  [...darkStyles].forEach((link) => (link.media = darkMedia));\n}\n","/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\nimport { tasksForm, tasksList, toggleBtn } from \"./js/refs\";\nimport { createTask } from \"./js/tasks\";\nimport { loadLS, saveLS } from \"./js/local-storage-api\";\nimport { initRender } from \"./js/render-tasks\";\nimport { setupTheme, setTheme, getSystemTheme } from \"./js/theme-switcher\";\nimport { TASKS_LS_KEY, THEME_LS_KEY } from \"./js/config\";\n\nconst app = { tasks: loadLS(TASKS_LS_KEY) ?? [] };\n\ninitRender(app.tasks, tasksList);\n\nsetupTheme();\n\ntoggleBtn.addEventListener(\"click\", (e) => {\n  let theme;\n\n  const currentTheme = loadLS(THEME_LS_KEY) ?? getSystemTheme();\n\n  theme = currentTheme === \"dark\" ? \"light\" : \"dark\";\n\n  saveLS(THEME_LS_KEY, theme);\n  setTheme(theme);\n});\n\ntasksForm.addEventListener(\"submit\", (event) => {\n  createTask(event, app.tasks);\n  saveLS(TASKS_LS_KEY, app.tasks);\n});\n\nfunction deleteListItem(e) {\n  const target = e.target;\n\n  if (target.nodeName !== \"BUTTON\") return;\n\n  const taskEl = target.closest(\".task-list-item\");\n  const { id } = taskEl.dataset;\n\n  app.tasks = app.tasks.filter((obj) => obj.id !== id);\n\n  saveLS(TASKS_LS_KEY, app.tasks);\n  initRender(app.tasks, tasksList);\n}\n\ntasksList.addEventListener(\"click\", deleteListItem);\n"],"names":["tasksForm","tasksList","toggleBtn","darkStyles","lightStyles","renderTask","taskName","taskDescription","id","initRender","tasks","container","markup","createTask","event","form","formData","el","task","uuidv4","loadLS","key","saveLS","TASKS_LS_KEY","THEME_LS_KEY","setupTheme","savedTheme","systemTheme","getSystemTheme","setTheme","theme","lightMedia","darkMedia","link","app","deleteListItem","target","taskEl","obj"],"mappings":"svBAAO,MAAMA,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAa,SAAS,iBACjC,8DACF,EACaC,EAAc,SAAS,iBAClC,+DACF,ECRO,SAASC,EAAW,CAAE,SAAAC,EAAU,gBAAAC,EAAiB,GAAAC,CAAE,EAAI,CAC5D,MAAO,uCAAuCA,CAAE;AAAA;AAAA,YAEtCF,CAAQ;AAAA,WACTC,CAAe;AAAA,QAE1B,CAEO,SAASE,EAAWC,EAAOC,EAAW,CAC3C,MAAMC,EAASF,EAAM,IAAIL,CAAU,EAAE,KAAK,EAAE,EAC5CM,EAAU,UAAYC,CACxB,CCPO,SAASC,EAAWC,EAAOJ,EAAO,CACvCI,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,OACbE,EAAW,OAAO,YAAY,IAAI,SAASD,CAAI,CAAC,EAGtD,GAFwB,OAAO,OAAOC,CAAQ,EAAE,KAAMC,GAAOA,EAAG,SAAW,CAAC,EAEvD,OAAO,MAAM,wBAAwB,EAE1D,MAAMC,EAAO,CAAE,GAAIC,EAAM,EAAI,GAAGH,CAAQ,EAExCN,EAAM,KAAKQ,CAAI,EACfjB,EAAU,mBAAmB,YAAaI,EAAWa,CAAI,CAAC,EAC1DH,EAAK,MAAK,CACZ,CClBO,SAASK,EAAOC,EAAK,CAC1B,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CAEO,SAASC,EAAOD,EAAKX,EAAO,CACjC,aAAa,QAAQW,EAAK,KAAK,UAAUX,CAAK,CAAC,CACjD,CCNO,MAAMa,EAAe,QACfC,EAAe,cCGrB,SAASC,GAAa,CAC3B,MAAMC,EAAaN,EAAOI,CAAY,EAChCG,EAAcC,EAAc,EAE9BF,IAAe,MAIfA,IAAeC,GAAaE,EAASH,CAAU,CACrD,CAEO,SAASE,GAAiB,CAG/B,OAFkB,WAAW,8BAA8B,EAAE,QAE1C,OAAS,OAC9B,CAEO,SAASC,EAASC,EAAO,CAC9B,IAAIC,EAAaD,IAAU,QAAU,MAAQ,UACzCE,EAAYF,IAAU,OAAS,MAAQ,UAE3C,CAAC,GAAG1B,CAAW,EAAE,QAAS6B,GAAUA,EAAK,MAAQF,CAAW,EAC5D,CAAC,GAAG5B,CAAU,EAAE,QAAS8B,GAAUA,EAAK,MAAQD,CAAU,CAC5D,CCJA,MAAME,EAAM,CAAE,MAAOd,EAAOG,CAAY,GAAK,CAAA,CAAE,EAE/Cd,EAAWyB,EAAI,MAAOjC,CAAS,EAE/BwB,EAAU,EAEVvB,EAAU,iBAAiB,QAAU,GAAM,CACzC,IAAI4B,EAIJA,GAFqBV,EAAOI,CAAY,GAAKI,EAAc,KAElC,OAAS,QAAU,OAE5CN,EAAOE,EAAcM,CAAK,EAC1BD,EAASC,CAAK,CAChB,CAAC,EAED9B,EAAU,iBAAiB,SAAWc,GAAU,CAC9CD,EAAWC,EAAOoB,EAAI,KAAK,EAC3BZ,EAAOC,EAAcW,EAAI,KAAK,CAChC,CAAC,EAED,SAASC,EAAe,EAAG,CACzB,MAAMC,EAAS,EAAE,OAEjB,GAAIA,EAAO,WAAa,SAAU,OAElC,MAAMC,EAASD,EAAO,QAAQ,iBAAiB,EACzC,CAAE,GAAA5B,GAAO6B,EAAO,QAEtBH,EAAI,MAAQA,EAAI,MAAM,OAAQI,GAAQA,EAAI,KAAO9B,CAAE,EAEnDc,EAAOC,EAAcW,EAAI,KAAK,EAC9BzB,EAAWyB,EAAI,MAAOjC,CAAS,CACjC,CAEAA,EAAU,iBAAiB,QAASkC,CAAc"}